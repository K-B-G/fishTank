<!doctype html>
<html>
<head>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="materialize/css/materialize.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
       <link href="my_code/my_css.css" type="text/css" rel="stylesheet" media="screen,projection"/>

<style>
	#tank{
		box-shadow: none;
		/*display: block;
		width: 100%;*/
		margin-bottom: 0;
	}
	.veryback{
			display: block;
		position: absolute;
		width: 100%;
	
		z-index: 2;
		/*background-color: lightpink;	*/
	}
	.middleground{
			display: block;
		position: absolute;
		width: 100%;
		
		z-index: 4;
		/*background-color: aquamarine;
		opacity: 0.3;*/
	}
	
	.foreground{
			display: block;
		position: absolute;
		
		width: 100%;
	
		z-index: 6;
		/*background-color: aquamarine;
		opacity: 0.3;*/
	}
	.gravel{
			display: block;
		position: absolute;
		width: 100%;
		z-index: 1;
	}
	.back_wall{
					display: block;
		position: absolute;
		width: 100%;
		z-index: 0;
	}
	
	.fish{
		display: block;
		position: absolute;
		width: 30%;
	}
	
	.z_2{
		z-index: 3;
	}
	.z_4{
		z-index: 5;
	}
	
	
	.right_forty_up{
		-ms-transform: rotate(-10deg); /* IE 9 */
    -ms-transform-origin: center; /* IE 9 */
    -webkit-transform: rotate(-10deg); /* Chrome, Safari, Opera */
    -webkit-transform-origin: center; /* Chrome, Safari, Opera */
    transform: rotate(-10deg);
    transform-origin: center;
		-o-transition: all .4s ease-in-out;
    -ms-transition: all .4s ease-in-out;
    -moz-transition: all .4s ease-in-out;
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out;
}
	
	.right_forty_down{
		-ms-transform: rotate(10deg); /* IE 9 */
    -ms-transform-origin: center; /* IE 9 */
    -webkit-transform: rotate(10deg); /* Chrome, Safari, Opera */
    -webkit-transform-origin: center; /* Chrome, Safari, Opera */
    transform: rotate(10deg);
    transform-origin: center;
		-o-transition: all .4s ease-in-out;
    -ms-transition: all .4s ease-in-out;
    -moz-transition: all .4s ease-in-out;
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out;
}

	.left_forty_up{
		-ms-transform: rotate(10deg); /* IE 9 */
    -ms-transform-origin: center; /* IE 9 */
    -webkit-transform: rotate(10deg); /* Chrome, Safari, Opera */
    -webkit-transform-origin: center; /* Chrome, Safari, Opera */
    transform: rotate(10deg);
    transform-origin: center;
		-o-transition: all .4s ease-in-out;
    -ms-transition: all .4s ease-in-out;
    -moz-transition: all .4s ease-in-out;
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out;
		 -moz-transform: scaleX(-1);
        -o-transform: scaleX(-1);
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
        filter: FlipH;
        -ms-filter: "FlipH";
	}
	.left_forty_down{
		-ms-transform: rotate(-10deg); /* IE 9 */
    -ms-transform-origin: center; /* IE 9 */
    -webkit-transform: rotate(-10deg); /* Chrome, Safari, Opera */
    -webkit-transform-origin: center; /* Chrome, Safari, Opera */
    transform: rotate(-10deg);
    transform-origin: center;
		-o-transition: all .4s ease-in-out;
    -ms-transition: all .4s ease-in-out;
    -moz-transition: all .4s ease-in-out;
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out;
		 -moz-transform: scaleX(-1);
        -o-transform: scaleX(-1);
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
        filter: FlipH;
        -ms-filter: "FlipH";
	
	}

	
	.background_img{
		 background: url(img/rockwall2.png) no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
	}
	.negitive-top{
		margin-top: 0px;
	}
	
	.full-width{
		display: block
		width: 100%;
	}
	
	.uber_top{
		position: absolute;
		z-index:45;
	}
	
	</style>
</head>


<body class="background_img">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
      
       <nav class="background_c_n black_fade">
       <div class="container">
    <div class="nav-wrapper">
      <a href="#!" class="brand-logo">VNA</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
		  <li><a href="#" data-activates="slide-out" class="button-collapse uber_top"><i class="material-icons">menu</i></a></li>
        <li><a href="index.html">Where am I?</a></li>
        <li><a href="tank.html">Create your tank</a></li>
        <li><a href="what_is_a_nano_tank.html">What is a nano tank?</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        <li><a href="index.html">Where am I?</a></li>
        <li><a href="tank.html">Create your tank</a></li>
        <li><a href="what_is_a_nano_tank.html">What is a nano tank?</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
        
    </div>

      
		   </div>
 
  </nav>
     
     <div class="full-width">
     <a href="#" data-activates="slide-out" class="button-collapse uber_top white-text waves-effect waves-light btn background_c_n black_fade"><i class="material-icons small white-text">mode_edit</i>Edit Tank</a>
	</div>
     
      
      		    
      <div id="slide-out" class="side-nav">
      <div class="row">
    <form class="col s12">
      <div class="row">
      <div class="input-field col s12">
    <select name="background">
      <option value="" disabled selected>Choose your option</option>
      <option value="1">Water Sprite</option>
      <option value="2">Java Fern</option>

    </select>
    <label>Select Background</label>
  </div>
        <div class="input-field col s12">
    <select name="middleground">
      <option value="" disabled selected>Choose your option</option>
      <option value="1">Rock Formation</option>
      <option value="2">Drift Wood</option>

    </select>
    <label>Select Middle Ground</label>
  </div>
  <div class="input-field col s12">
    <select name="foreground">
      <option value="" disabled selected>Choose your option</option>
      <option value="1">Wisteria</option>
      <option value="2">Cryptocoryne</option>

    </select>
    <label>Select Foreground</label>
  </div>
  <div class="input-field col s12">
    <select name="gravel">
      <option value="" disabled selected>Choose your option</option>
      <option value="1">Gray Gravel</option>
      <option value="2">Sandy Gravel</option>

    </select>
    <label>Select Gravel</label>
  </div>
		</div>
    </form>
  </div>
    <a  id="btn1" class="waves-effect waves-light btn">Create Tank</a>

	</div>


       
        


<div id="tank" class="col s12 card large card-content background_c_n negitive-top full-width">
<div class="back_wall">
 <img class="responsive-img" src="img/rockwall2.png" width="2082" height="550" alt=""/>
	 </div>
	<div class="gravel">
<img class="responsive-img" src="img/aquaruim-things.png" width="2082" height="550" alt=""/>  
</div>
	<div class="veryback">
   <img class="responsive-img" src="img/water_sprite.svg" alt="water sprite"/>
	
	</div>
	<div class="fish z_4">
	<img class="testing" src="img/vector_fighting_fish_by_stu_artgraphics-d533k02.png" alt="" height="100" width="100">
		<img class="testing display_n" src="img/vector_hor_fighting_fish_by_stu_artgraphics-d533k02.png" alt="" height="100" width="100">
	</div>
	<div class="middleground">
	<img class="responsive-img" src="img/rock_1.svg" alt=""/> 
	</div>
	
	<div class="foreground responsive-img">
    <img class="responsive-img" src="img/wisteria.svg" onerror="this.src='img/wisteria.png'; this.onerror=null;" width="2000" height="550" alt=""/> 
    </div>

</div>

	
	
<!--<button>Start Animation</button>

<div style="width:50px;height:50px;position:absolute;left:300px; background-color:red;"></div>-->
<script>

	
	$(document).ready(function(){
		$(".button-collapse").sideNav();
   		$('select').material_select();
		fishSwim();
    
});
	
	/*function makeNewPosition(){
    
    // Get viewport dimensions (remove the dimension of the div)
    var h = $(window).height() - 150;
    var w = $(window).width() - 150;
    
    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);
    
    return [nh,nw];    
    
}

function animateDiv(){
    var newq = makeNewPosition();
    $('#fish').animate({ top: newq[0], left: newq[1] }, 5000, function(){
      animateDiv();        
    });
    
};*/

function makeNewPosition(){
    
    // Get viewport dimensions (remove the dimension of the div)
	//do some stuff to get the height and width of TANK
	//Then have something that subtracks the size value of FISH, NAV, and FOOTER from computed TANK diminsions
	//var nav_h = $nav.height();
	//var nav_w =  $nav.width();
	//var fish_h = $('#fish').height();
	//var fish_w = $('#fish").width();
	//var tank_h = $('#tank').height();
	//var tank_w = $('#tank').width();
	//var gravel_h = $('#gravel').height();
	//var gravel_w = $('#gravel').width();
	//var footer_h = $('#footer').height();
	//var footer_w = $('#footer').width();
	//var bounds_h = nav_h + fish_h + tank_h + gravel_h + footer_h + 
	var fish_h= $('.fish > img').height();
	var fish_w= $('.fish > img').width();
    var h = $('#tank').height() - (fish_h -20);
    var w = $('#tank').width() - (fish_w -20);
    /*var fish = 2;
	for(i=0; i< fish; i++){}*/
		
    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);
	var swim_speed= Math.floor(Math.random() * (8000 - 3000) + 3000);
    
	//alert(fish_w);
    return [nh,nw,swim_speed,1];   
    
};
	
	function getSum(total, num) {
    return total + num;
}
	
	var test_position=[];
	var dathing= test_position.valueOf();
	var counter= [];
	
function fishSwim(){
    var newq = makeNewPosition();		
	var array_thing= test_position.push(newq[0], newq[1]);
	var z_counter= Math.floor((Math.random() * 2) + 1);
	// Pushes 3rd array value to COUNTER ARRAY
	counter.push(newq[3]);
	
	/* Start of ENHANCED FISH ANIMATION */
	
	//NOTE if top number is low, that means it's high
	//	IF Left numbers is low, that means it's lefter
		
	//$('.fish').hasClass('.right_forty_down')
	
	if(counter.reduce(getSum) != 1){
		
		// if it is going down AND right
		if(test_position[0] < test_position[2] && test_position[1]< test_position[3]){
			
				if($('.fish > img:first').hasClass('display_n')){
				$('.fish > img:first').removeClass('display_n');
				$('.fish > img:last').addClass('display_n');
				}
				else{

				}
				//turn the fish down
			$('.testing').removeClass('right_forty_up');
			$('.testing').addClass('right_forty_down'); 
				}

			//if it is going up AND right
		else if (test_position[0] > test_position[2] && test_position[1]< test_position[3]){ 
			// when the right facing fish is off, turn it on
				if($('.fish > img:first').hasClass('display_n')){
				$('.fish > img:first').removeClass('display_n');
				$('.fish > img:last').addClass('display_n');
				}
				else{

				}

			// turn the fish up	
			$('.testing').removeClass('right_forty_down');
			$('.testing').addClass('right_forty_up'); 

				}
		
			//if it is going up AND left
		else if (test_position[0] > test_position[2] && test_position[1] > test_position[3]){ 
			// when the left facing fish is off, turn it on
			if($('.fish > img:last').hasClass('display_n')){
			$('.fish > img:last').removeClass('display_n');
			$('.fish > img:first').addClass('display_n');
			}
			else{
				
			}

		// turn the fish down	
		$('.testing').removeClass('right_forty_up');
		$('.testing').addClass('right_forty_down'); 

				}
		
					//if it is going down AND left
		else if (test_position[0] < test_position[2] && test_position[1] > test_position[3]){ 
			// when the left facing fish is off, turn it on
			if($('.fish > img:last').hasClass('display_n')){
			$('.fish > img:last').removeClass('display_n');
			$('.fish > img:first').addClass('display_n');
			}
			else{
				
			}

		// turn the fish up
		$('.testing').removeClass('right_forty_down');
		$('.testing').addClass('right_forty_up'); 

				}
		
			else{
				
				//its all good man
			}
			
	
		//$('.fish > img:first').replaceWith('<img src="https://www.placecage.com/g/102/102" alt="" height="100" width="100">');
																						  
}
			
	
	else{
		
	}
	
	
	// Adjusts the Z-INDEX on FISH
	if(z_counter == 1){
		if($('.fish').hasClass('z_4')){
			$('.fish').removeClass('z_4');
			$('.fish').addClass('z_2');
		}
		else{}
	}
	else{
		if($('.fish').hasClass('z_2')){
			$('.fish').removeClass('z_2');
			$('.fish').addClass('z_4');
		}
		else{}
	}
	
		// Keeps the COUNTER ARRAY from getting big
	if(counter.reduce(getSum) > 1){
		counter.splice(2,1);
		//alert(test_position.valueOf());
		test_position.splice(0,2);
	}
	else{
		//alert(test_position.valueOf());
	}
	
	

	
    $('.fish').animate({ top: newq[0], left: newq[1] }, newq[2], function(){

	//alert(test_position.valueOf());
       fishSwim();
		
		
    });
    
};
	

	/*function haveFish(){
		$('.background').prepend('<img id="theImg" src="http://upload.wikimedia.org/wikipedia/commons/e/eb/Ash_Tree_-_geograph.org.uk_-_590710.jpg" />')
	};*/
	
	/*$('#btn1').click(function(){
  alert('Handler for .click() called.');
		$('.background').append('<p>text</p>');
}); */
	function changeBackground(){
		var background_v = $('select[name="background"]').val();
		var backgimg_1 = '<img class="responsive-img" src="img/water_sprite.svg" onerror="this.src= &quotimg/water_sprite.png &quot; this.onerror=null;" width="2000" height="550" alt="water sprite"/>';
		var backgimg_2 = '<img class="responsive-img" src="img/java_fern.svg" onerror="this.src= &quotimg/java_fern.png &quot; this.onerror=null;" width="2000" height="550" alt="java_fern"/>';
		
		if ($('.veryback:has(img)').length > 0){
				if (background_v== 1){
					$('.veryback > img').replaceWith(backgimg_1);
				}
				else if( background_v== 2){
					$('.veryback > img').replaceWith(backgimg_2);
		}
		}
		
		else if (background_v== 1){
			$('.veryback').prepend(backgimg_1);
		}
		else if( background_v== 2){
			$('.veryback').prepend(backgimg_2);
		}
									 else{
									 
									 }
	};

	
	function changeMiddle(){
		var middleground_v = $('select[name="middleground"]').val();
		var middlegimg_1 = '<img class="responsive-img" src="img/rock_1.svg" onerror="this.src= &quotimg/rock_1.png &quot; this.onerror=null;" width="2000" height="550" alt="Its a rock"/>';
		var middlegimg_2 = '<img class="responsive-img" src="img/wood_1.svg" onerror="this.src= &quotimg/wood_1.png &quot; this.onerror=null;" width="2000" height="550" alt="java_fern"/>';
		
		if ($('.middleground:has(img)').length > 0){
				if (middleground_v== 1){
					$('.middleground > img').replaceWith(middlegimg_1);
				}
				else if( middleground_v== 2){
					$('.middleground > img').replaceWith(middlegimg_2);
		}
		}
		
		else if (middleground_v== 1){
			$('.middleground').prepend(middlegimg_1);
		}
		else if( middleground_v== 2){
			$('.middleground').prepend(middlegimg_2);
		}
									 else{
									 
									 }
	};
	
	function changeFore(){
		//<img class="responsive-img" src="img/wisteria.svg" onerror="this.src='img/wisteria.png'; this.onerror=null;" width="2000" height="550" alt=""/>
		var foreground_v = $('select[name="foreground"]').val();
		var foregimg_1 = '<img class="responsive-img" src="img/wisteria.svg" onerror="this.src= &quotimg/wisteria.png &quot; this.onerror=null;" width="2000" height="550" alt="wisteria plant"/>';
		var foregimg_2 = '<img class="responsive-img" src="img/crypto.svg" onerror="this.src= &quotimg/crypto.png &quot; this.onerror=null;" width="2000" height="550" alt="one of the smaller crypto things"/>';
		
		if ($('.foreground:has(img)').length > 0){
				if (foreground_v== 1){
					$('.foreground > img').replaceWith(foregimg_1);
				}
				else if( foreground_v== 2){
					$('.foreground > img').replaceWith(foregimg_2);
		}
		}
		
		else if (foreground_v== 1){
			$('.foreground').prepend(foregimg_1);
		}
		else if( foreground_v== 2){
			$('.foreground').prepend(foregimg_2);
		}
									 else{
									 
									 }
	};
	
	
	function changeGravel(){
		//<img class="responsive-img" src="img/wisteria.svg" onerror="this.src='img/wisteria.png'; this.onerror=null;" width="2000" height="550" alt=""/>
		var foreground_v = $('select[name="gravel"]').val();
		var foregimg_1 = '<img class="responsive-img" src="img/aquaruim-things.png" width="2000" height="550" alt="gray gravel"/>';
		var foregimg_2 = '<img class="responsive-img" src="img/gravel_sand" width="2000" height="550" alt="sandy gravel"/>';
		
		if ($('.gravel:has(img)').length > 0){
				if (foreground_v== 1){
					$('.gravel > img').replaceWith(foregimg_1);
				}
				else if( foreground_v== 2){
					$('.gravel > img').replaceWith(foregimg_2);
		}
		}
		
		else if (foreground_v== 1){
			$('.gravel').prepend(foregimg_1);
		}
		else if( foreground_v== 2){
			$('.gravel').prepend(foregimg_2);
		}
									 else{
									 
									 }
	};
	
	$('#btn1').click( function(){
		changeBackground();
		changeMiddle();
		changeFore();
		changeGravel();
		
	});
	
		
	
	
	

	/*$(document).ready(function(){
    $("#btn1").click(function(){
		var fish = $("#fish");
		startAnimation();
		function startAnimation(){
        fish.animate({right: "300"});
		fish.animate({bottom: "300"});
		fish.animate({left: "0"});
		fish.animate({top: "30"}, "slow", startAnimation);
	}
	 });
		});*/
	
	/*$(document).ready(function(){
    $("button").click(function(){
        var div = $("div");
        startAnimation();
        function startAnimation(){
            //div.animate({marginLeft: 300}, "slow");
            div.animate({marginDown: 50}, "slow");
             
           /* div.animate({bottom: 100}, "slow");
            div.animate({top: 100}, "slow", startAnimation);
        }
    });
});
			*/	 
    	
	/** functoin that moves image from spot 1 to spot 2 on button click.*/
</script>
</body>
</html>